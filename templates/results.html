{% extends 'layout.html' %}

{% block body %}
    <div class="container-fluid" style="width: 95%;">
        <div class="jumbotron pt-5 pb-0" style="background-color: #ffffff;">
            <h3 class="text-center">Statistical Performance Analysis For The {{ result['timeframe'] }}</h3>
            <p class="text-center">CS-Py uses CS:GO's <a href="https://developer.valvesoftware.com/wiki/Counter-Strike:_Global_Offensive_Game_State_Integration" target="_blank">Game State Integration</a> to gather detailed information about you as a player.</p>
            <hr style="width: 75%;" class="pb-2">
        </div>
        <div class="row">
            <div class="col-5">
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="overall-tab" data-toggle="tab" href="#overall" role="tab" aria-controls="overall" aria-selected="true">Overall</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="ct-tab" data-toggle="tab" href="#ct" role="tab" aria-controls="ct" aria-selected="false">CT</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="t-tab" data-toggle="tab" href="#t" role="tab" aria-controls="t" aria-selected="false">T</a>
                    </li>
                </ul>
                <div class="tab-content" id="stats">
                    <div class="tab-pane fade show active" id="overall" role="tabpanel" aria-labelledby="overall-tab">
                        <table class="table table-sm">
                            <caption>Performance metrics: <a href="https://github.com/Parkkeo1/CS-Py/blob/master/statistics_documentation.md#understanding-cs-pys-statistics" target="_blank">How are these calculated?</a></caption>
                            <thead class="thead-light">
                                <tr class="bg-primary">
                                    <th scope="col">Statistic</th>
                                    <th scope="col">Value</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Headshot Ratio</td>
                                    <td>{{ result['hsr'] }}</td>
                                </tr>
                                <tr>
                                    <td>Kills Per Round</td>
                                    <td>{{ result['kpr'] }}</td>
                                </tr>
                                <tr>
                                    <td>KAS Percentage</td>
                                    <td>{{ result['kas'] }}%</td>
                                </tr>
                                <tr>
                                    <td>KDR, KDA</td>
                                    <td>{{ result['kdr_kda'][0] }}, {{ result['kdr_kda'][1] }}</td>
                                </tr>
                                <tr>
                                    <td>Mean Equipment Value</td>
                                    <td>$ {{ result['equip'] }}</td>
                                </tr>
                                <tr>
                                    <td>MD Correlation Coeff.</td>
                                    <td>{{ result['correl'] }}</td>
                                </tr>
                                <tr>
                                    <td>Pistol HSR</td>
                                    <td>{{ result['pistol_hsr'] }}</td>
                                </tr>
                                <tr>
                                    <td>Pistol KPR</td>
                                    <td>{{ result['pistol_kpr'] }}</td>
                                </tr>
                                <tr>
                                    <td>Pistol Kill-Round Ratio</td>
                                    <td>{{ result['pistol_k'] }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane fade" id="ct" role="tabpanel" aria-labelledby="ct-tab">
                        <table class="table table-sm">
                            <caption>Performance metrics: <a href="https://github.com/Parkkeo1/CS-Py/blob/master/statistics_documentation.md#understanding-cs-pys-statistics" target="_blank">How are these calculated?</a></caption>
                            <thead class="thead-light">
                                <tr class="bg-primary">
                                    <th scope="col">Statistic</th>
                                    <th scope="col">Value</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Headshot Ratio</td>
                                    <td>{{ result['ct_hsr'] }}</td>
                                </tr>
                                <tr>
                                    <td>Kills Per Round</td>
                                    <td>{{ result['ct_kpr'] }}</td>
                                </tr>
                                <tr>
                                    <td>Mean Equipment Value</td>
                                    <td>$ {{ result['ct_equip'] }}</td>
                                </tr>
                                <tr>
                                    <td>MD Correlation Coeff.</td>
                                    <td>{{ result['ct_correl'] }}</td>
                                </tr>
                                <tr>
                                    <td>Pistol HSR</td>
                                    <td>{{ result['pistol_ct_hsr'] }}</td>
                                </tr>
                                <tr>
                                    <td>Pistol KPR</td>
                                    <td>{{ result['pistol_ct_kpr'] }}</td>
                                </tr>
                                <tr>
                                    <td>Pistol Kill-Round Ratio</td>
                                    <td>{{ result['pistol_ct_k'] }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane fade" id="t" role="tabpanel" aria-labelledby="t-tab">
                        <table class="table table-sm">
                            <caption>Performance metrics: <a href="https://github.com/Parkkeo1/CS-Py/blob/master/statistics_documentation.md#understanding-cs-pys-statistics" target="_blank">How are these calculated?</a></caption>
                            <thead class="thead-light">
                                <tr class="bg-primary">
                                    <th scope="col">Statistic</th>
                                    <th scope="col">Value</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Headshot Ratio</td>
                                    <td>{{ result['t_hsr'] }}</td>
                                </tr>
                                <tr>
                                    <td>Kills Per Round</td>
                                    <td>{{ result['t_kpr'] }}</td>
                                </tr>
                                <tr>
                                    <td>Mean Equipment Value</td>
                                    <td>$ {{ result['t_equip'] }}</td>
                                </tr>
                                <tr>
                                    <td>MD Correlation Coeff.</td>
                                    <td>{{ result['t_correl'] }}</td>
                                </tr>
                                <tr>
                                    <td>Pistol HSR</td>
                                    <td>{{ result['pistol_t_hsr'] }}</td>
                                </tr>
                                <tr>
                                    <td>Pistol KPR</td>
                                    <td>{{ result['pistol_t_kpr'] }}</td>
                                </tr>
                                <tr>
                                    <td>Pistol Kill-Round Ratio</td>
                                    <td>{{ result['pistol_t_k'] }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-7">
                <div class="container-fluid" style="padding: 0;">
                    <div id="matplotlib" class="carousel slide" data-interval="false">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img src="{{ url_for('static', filename = 'images/rounds_per_map.png') }}" alt="round/map graph">
                            </div>
                            <div class="carousel-item">
                                <img src="{{ url_for('static', filename = 'images/money_vs_kills.png') }}" alt="round/map graph">
                            </div>
                        </div>
                        <a class="carousel-control-prev" href="#matplotlib" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#matplotlib" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer">
            <a href="https://github.com/Parkkeo1" target="_blank">Created By @Parkkeo1</a>
        </div>
    </div>
{% endblock %}